---
layout: post
title: 竞彩足球投注互斥问题
categories: how
own: 原创
---

### 问题描述
	
玩彩票的用户最关心的问题是投入和产出。虽然我们保证不了他的“产出”，但是对于竞彩我们可以量化最大“产出”供用户参考。这个量化就是按照国家竞彩游戏规则和用户的投注内容计算出用户全部命中时的奖金，即最大奖金，当然也能计算出用户的奖金分布。
值得注意的是竞技彩的规则不像数字彩直接排列组合就能算出奖金分布，他要稍微复杂一些。上图说明：

![互斥](/assets/img/blog/how/jczq-huchi.png)

这里举了一个最简单的例子：用户投注<em class="red">041 阿甲</em> 多个赛果与<em class="red">001 德国杯</em>一个赛果组成2串1。从投注可以看出这些赛果不可能同时成立，且有的赛果中奖了其他的赛果也必定中了，比如比分1：0中了，则胜平负“胜”肯定也中了。
怎么去计算这些情况呢？

### 第一种方案：（弃）

把所有的2串1组合算出来，做个表，按表筛选。

这个表太难做了，组合数过万了，过关方式有标准过关，组合过关多达几十种。

### 第二种方案：（弃）

不管用户投注多少个赛果，赛果只有三个“胜”，“平”，“负”。所以按“胜”，“平”，“负”分类筛选，这种比第一种简单了一些可以实现，但是条件比较多，实现成本高。

### 第三种方案：（纳）

这种方案采用“赛果补偿”方法，操作简单，思路清晰，执行效率高。

